---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit the .rmd file and then use devtools::build_readme() to update the md file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# elicitr <a href="#"><img src="man/figures/logo.png" height="138" align="right">
<!-- badges: start -->
[![Project Status](https://www.repostatus.org/badges/latest/concept.svg)](https://www.repostatus.org/#concept)
[![R-CMD-check](https://github.com/CREWdecisions/elicitr/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/CREWdecisions/elicitr/actions/workflows/R-CMD-check.yaml)
[![lint](https://github.com/CREWdecisions/elicitr/actions/workflows/lint.yaml/badge.svg)](https://github.com/CREWdecisions/elicitr/actions/workflows/lint.yaml)
[![Codecov test coverage](https://codecov.io/gh/CREWdecisions/elicitr/graph/badge.svg)](https://app.codecov.io/gh/CREWdecisions/elicitr)
<!-- badges: end -->

### Description

elicitr is an R package used to standardise, visualise and aggregate data from expert elicitation.\
The package is in active development and will implement functions based on two formal elicitation methods:

* Elicitation of continuous variables\
  Adapted from Hemming, V. et al. (2018). A practical guide to structured expert elicitation using the IDEA protocol. Methods in Ecology and Evolution, 9(1), 169–180. https://doi.org/10.1111/2041-210X.12857
* Elicitation of categorical data\
  Adapted from Vernet, M. et al. (2024). Assessing invasion risks using EICAT-based expert elicitation: application to a conservation translocation. Biological Invasions, 26(8), 2707–2721. https://doi.org/10.1007/s10530-024-03341-2

### Installation

You can install the development version of elicitr from GitHub with:

```r
# install.packages("pak")
pak::pak("CREWdecisions/elicitr")
```

### Getting started

First, you must inform elicitr of the number of variables (var) that you are eliciting (i.e. the number of topics in your elicitation).

From there, you need to inform elictr of the type of variable (var_type) that you elicited for each of these variables. Available options are:

* Z: integers, when the estimate must be an integer number in the interval (-Inf, Inf).

* N: positive integers, when the estimate must be an integer number in the interval (0, Inf).

* z: negative integers, when the estimate must be an integer number in the interval (-Inf, 0].

* R: reals, when the estimate must be a real number in the interval (-Inf, Inf).

* s: positive reals, when the estimate must be a real number in the interval (0, Inf).

* r: negative reals, when the estimate must be a real number in the interval (-Inf, ].

* p: probability, when the estimate must be a real number in the interval (0, 1).

Finally, you need to inform elicitr of the type of elicitation (elic_type) you conducted for each of these variables. Three options are available in elicitr:

* 1: You elicit only the best guess for this variable.

* 3: You elicit the best guess for this variable and the minimum and maximum value.

* 4: You elicit the best guess, minimum and maximum for this variable, and the confidence of the experts. Here, confidence (in percent) can be any number between 60 and 100 (because any number under 50 means that the correctness of the estimates is only due to chance).

```r
library(elicitr)
```

##### Elicitation of continuous variables

###### Simulated datasets

Two simulated datasets are included in elicitr:\

```{r, echo = TRUE}
elicitr::round_1
```
###
```{r, echo = TRUE}
elicitr::round_2
```

###### First step: create your object of class elicit

```{r, echo = TRUE}
elicit_object <- elicitr::elic_cont_start(var = c("var1", "var2", "var3"),
                                          var_types = "ZNp",
                                          elic_types = "134",
                                          experts = 6)
```

###### Second step: add your data for round 1

```{r, echo = TRUE}
round1_elicit <- elicitr::elic_cont_add_data(elicit_object,
                                             elicitr::round_1,
                                             round = 1)
```

###### Third step: add your data for round 2

```{r, echo = TRUE}
round2_elicit <- elicitr::elic_cont_add_data(round1_elicit,
                                             elicitr::round_2,
                                             round = 2)
```

###### Fourth step: check your data

```{r, echo = TRUE}
elicitr::elic_cont_get_data(round2_elicit, round = 1, var = "all")
```

###### Final step: plot your data

```{r continuous plot, echo = TRUE}
elicitr::elic_cont_plot(round2_elicit,
                        round = 2,
                        group = TRUE,
                        var = "var3",
                        xlab = "Variable 3",
                        ylab = "Experts")
```

##### Elicitation of continuous variables

###### In development

### Similar packages

* {shelf} : Oakley, J. (2024). Package “SHELF” Tools to Support the Sheffield Elicitation Framework. https://doi.org/10.32614/CRAN.package.SHELF
* {prefR} : Lepird, J. (2022). Package “prefeR” R Package for Pairwise Preference Elicitation. https://doi.org/10.32614/CRAN.package.prefeR
