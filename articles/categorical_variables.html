<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Categorical variables • elicitr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Categorical variables">
<meta name="description" content="Learn the workflow for loading and analysing data collected during the elicitation of categorical variables.
">
<meta property="og:description" content="Learn the workflow for loading and analysing data collected during the elicitation of categorical variables.
">
<meta property="og:image" content="https://crewdecisions.github.io/elicitr/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">elicitr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/continuous_variables.html">Continuous variables</a></li>
    <li><a class="dropdown-item" href="../articles/categorical_variables.html">Categorical variables</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CREWdecisions/elicitr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Categorical variables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/CREWdecisions/elicitr/blob/main/vignettes/categorical_variables.Rmd" class="external-link"><code>vignettes/categorical_variables.Rmd</code></a></small>
      <div class="d-none name"><code>categorical_variables.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://crewdecisions.github.io/elicitr/">elicitr</a></span><span class="op">)</span></span></code></pre></div>
<p>Many of the concepts introduced in
<code><a href="../articles/continuous_variables.html">vignette("continuous_variables")</a></code> are also applicable to
categorical variables, and the name of the functions are the same but
have the prefix <code>cat</code> instead of <code>cont</code>. However,
there are some differences in the workflow for loading and analysing
data collected during the elicitation of categorical variables. This
vignette will guide you through the process of loading and analysing
categorical data.</p>
<div class="section level2">
<h2 id="datasets">Datasets<a class="anchor" aria-label="anchor" href="#datasets"></a>
</h2>
<p>There are three datasets included in the package for demonstration
purposes: <code><a href="../reference/cat_data.html">?topic_1</a></code>, <code><a href="../reference/cat_data.html">?topic_2</a></code>, and
<code><a href="../reference/cat_data.html">?topic_3</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">topic_1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 120 × 5</span></span></span>
<span><span class="co">#&gt;    name            option   category   confidence estimate</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Derek Maclellan option_1 category_1         15     0.08</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Derek Maclellan option_1 category_2         15     0   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Derek Maclellan option_1 category_3         15     0.85</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Derek Maclellan option_1 category_4         15     0.02</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Derek Maclellan option_1 category_5         15     0.05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Derek Maclellan option_2 category_1         35     0.02</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Derek Maclellan option_2 category_2         35     0.11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Derek Maclellan option_2 category_3         35     0.18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Derek Maclellan option_2 category_4         35     0.02</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Derek Maclellan option_2 category_5         35     0.67</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 110 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">topic_2</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 100 × 5</span></span></span>
<span><span class="co">#&gt;    name              option   category   confidence estimate</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Christopher Felix option_1 category_1        100     0.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Christopher Felix option_1 category_2        100     0.21</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Christopher Felix option_1 category_3        100     0.11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Christopher Felix option_1 category_4        100     0.59</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Christopher Felix option_1 category_5        100     0   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Christopher Felix option_2 category_1         20     0.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Christopher Felix option_2 category_2         20     0.05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Christopher Felix option_2 category_3         20     0.33</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Christopher Felix option_2 category_4         20     0.24</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Christopher Felix option_2 category_5         20     0.29</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 90 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">topic_3</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 90 × 5</span></span></span>
<span><span class="co">#&gt;    name            option   category   confidence estimate</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Derek Maclellan option_1 category_1         80     0.02</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Derek Maclellan option_1 category_2         80     0.02</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Derek Maclellan option_1 category_3         80     0.01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Derek Maclellan option_1 category_4         80     0.87</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Derek Maclellan option_1 category_5         80     0.08</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Derek Maclellan option_2 category_1         50     0.11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Derek Maclellan option_2 category_2         50     0.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Derek Maclellan option_2 category_3         50     0.17</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Derek Maclellan option_2 category_4         50     0.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Derek Maclellan option_2 category_5         50     0.54</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 80 more rows</span></span></span></code></pre></div>
<p>In each dataset the first column contains the name of the expert, the
second the options considered and the third the categories of the
categorical variable. The fourth column contains the expert’s
confidence, and the fifth the expert’s estimate. Expert estimates for
each option should represent probabilities or percentages, and should
thus sum up to 1 or 100. Both are accepted and data scaled to 1 will be
automatically rescaled to 100.</p>
</div>
<div class="section level2">
<h2 id="load-data">Load data<a class="anchor" aria-label="anchor" href="#load-data"></a>
</h2>
<p>We start by creating the <code><a href="../reference/elic_cat.html">?elic_cat</a></code> object with the
function <code><a href="../reference/cat_start.html">cat_start()</a></code>. As for the continuous variables, this
objects stores the metadata of the elicitation process:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_categories</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"category_1"</span>, <span class="st">"category_2"</span>, <span class="st">"category_3"</span>,</span>
<span>                   <span class="st">"category_4"</span>, <span class="st">"category_5"</span><span class="op">)</span></span>
<span><span class="va">my_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"option_1"</span>, <span class="st">"option_2"</span>, <span class="st">"option_3"</span>, <span class="st">"option_4"</span><span class="op">)</span></span>
<span><span class="va">my_topics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"topic_1"</span>, <span class="st">"topic_2"</span>, <span class="st">"topic_3"</span><span class="op">)</span></span>
<span><span class="va">my_elicitation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cat_start.html">cat_start</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">my_categories</span>,</span>
<span>                            options <span class="op">=</span> <span class="va">my_options</span>,</span>
<span>                            experts <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                            topics <span class="op">=</span> <span class="va">my_topics</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">&lt;elic_cat&gt;</span> object for <span style="color: #0000BB;">"Elicitation"</span> correctly initialised</span></span>
<span><span class="va">my_elicitation</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Elicitation</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • Categories: <span style="color: #0000BB;">"category_1"</span>, <span style="color: #0000BB;">"category_2"</span>, <span style="color: #0000BB;">"category_3"</span>, <span style="color: #0000BB;">"category_4"</span>, and</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">"category_5"</span></span></span>
<span><span class="co">#&gt; • Options: <span style="color: #0000BB;">"option_1"</span>, <span style="color: #0000BB;">"option_2"</span>, <span style="color: #0000BB;">"option_3"</span>, and <span style="color: #0000BB;">"option_4"</span></span></span>
<span><span class="co">#&gt; • Number of experts: <span style="color: #0000BB;">6</span></span></span>
<span><span class="co">#&gt; • Topics: <span style="color: #0000BB;">"topic_1"</span>, <span style="color: #0000BB;">"topic_2"</span>, and <span style="color: #0000BB;">"topic_3"</span></span></span>
<span><span class="co">#&gt; • Data available for <span style="color: #0000BB;">0</span> topics</span></span></code></pre></div>
<p>This elicitation process is for a categorical variables with 5
categories estimated for four options and three topics by six
experts.</p>
<p>As we did for continuous variables, we can load the data with the
function <code>cat_load()</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_elicitation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cat_add_data.html">cat_add_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>,</span>
<span>                               data_source <span class="op">=</span> <span class="va">topic_1</span>,</span>
<span>                               topic <span class="op">=</span> <span class="st">"topic_1"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cat_add_data.html">cat_add_data</a></span><span class="op">(</span>data_source <span class="op">=</span> <span class="va">topic_2</span>, topic <span class="op">=</span> <span class="st">"topic_2"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cat_add_data.html">cat_add_data</a></span><span class="op">(</span>data_source <span class="op">=</span> <span class="va">topic_3</span>, topic <span class="op">=</span> <span class="st">"topic_3"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Estimates sum to 1. Rescaling to 100.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Data added to Topic <span style="color: #0000BB;">"topic_1"</span> from <span style="color: #0000BB;">"data.frame"</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Estimates sum to 1. Rescaling to 100.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Data added to Topic <span style="color: #0000BB;">"topic_2"</span> from <span style="color: #0000BB;">"data.frame"</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Estimates sum to 1. Rescaling to 100.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Data added to Topic <span style="color: #0000BB;">"topic_3"</span> from <span style="color: #0000BB;">"data.frame"</span></span></span></code></pre></div>
<p>As mentioned before, estimates can also sum up to 100.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">topic_1_percent</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">topic_1</span>,</span>
<span>                                 estimate <span class="op">=</span> <span class="va">estimate</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_elicitation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cat_add_data.html">cat_add_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>,</span>
<span>                               data_source <span class="op">=</span> <span class="va">topic_1_percent</span>,</span>
<span>                               topic <span class="op">=</span> <span class="st">"topic_1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Data added to Topic <span style="color: #0000BB;">"topic_1"</span> from <span style="color: #0000BB;">"data.frame"</span></span></span></code></pre></div>
<p>Expert anonymisation is automatic but optional. If expert names are
not to be anonymised, the argument <code>anonymise</code> can be set to
<code>FALSE</code> in the <code><a href="../reference/cat_add_data.html">cat_add_data()</a></code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_elicitation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cat_add_data.html">cat_add_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>,</span>
<span>                               data_source <span class="op">=</span> <span class="va">topic_1</span>,</span>
<span>                               topic <span class="op">=</span> <span class="st">"topic_1"</span>,</span>
<span>                               anonymise <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Estimates sum to 1. Rescaling to 100.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Data added to Topic <span style="color: #0000BB;">"topic_1"</span> from <span style="color: #0000BB;">"data.frame"</span></span></span></code></pre></div>
<p>Again, metadata are used to validate the data. If the data is not
consistent with the metadata, an error message will be displayed. For
example, if we try to load data with a category not defined in the
metadata:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">malformed_data</span> <span class="op">&lt;-</span> <span class="va">topic_1</span></span>
<span><span class="va">malformed_data</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"category_6"</span></span>
<span><span class="fu"><a href="../reference/cat_add_data.html">cat_add_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>,</span>
<span>             data_source <span class="op">=</span> <span class="va">malformed_data</span>,</span>
<span>             topic <span class="op">=</span> <span class="st">"topic_1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `cat_add_data()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The column with the name of the options contains unexpected values:</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> The value <span style="color: #0000BB;">"category_6"</span> is not valid.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Check the metadata in the <span style="color: #0000BB;">&lt;elic_cat&gt;</span> object.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-data">Get data<a class="anchor" aria-label="anchor" href="#get-data"></a>
</h2>
<p>Data can be retrieved from the <code>elic_cat</code> object with the
<code><a href="../reference/cat_get_data.html">cat_get_data()</a></code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cat_get_data.html">cat_get_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>, topic <span class="op">=</span> <span class="st">"topic_1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 120 × 5</span></span></span>
<span><span class="co">#&gt;    id              option   category   confidence estimate</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Derek Maclellan option_1 category_1         15        8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Derek Maclellan option_1 category_2         15        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Derek Maclellan option_1 category_3         15       85</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Derek Maclellan option_1 category_4         15        2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Derek Maclellan option_1 category_5         15        5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Derek Maclellan option_2 category_1         35        2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Derek Maclellan option_2 category_2         35       11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Derek Maclellan option_2 category_3         35       18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Derek Maclellan option_2 category_4         35        2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Derek Maclellan option_2 category_5         35       67</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 110 more rows</span></span></span></code></pre></div>
<p>Notice that the name of the expert is not anonymised in this case and
assigned to the column <code>id</code>.</p>
<p>Data can also be retrieved only for given options:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cat_get_data.html">cat_get_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>, topic <span class="op">=</span> <span class="st">"topic_2"</span>, option <span class="op">=</span> <span class="st">"option_1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 25 × 5</span></span></span>
<span><span class="co">#&gt;    id      option   category   confidence estimate</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> e51202e option_1 category_1        100        9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> e51202e option_1 category_2        100       21</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> e51202e option_1 category_3        100       11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> e51202e option_1 category_4        100       59</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> e51202e option_1 category_5        100        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> e78cbf4 option_1 category_1         75       31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> e78cbf4 option_1 category_2         75       27</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> e78cbf4 option_1 category_3         75        9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> e78cbf4 option_1 category_4         75       17</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> e78cbf4 option_1 category_5         75       16</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 15 more rows</span></span></span></code></pre></div>
<p>Here, the data is anonymised, following what was specified when
loading the data.</p>
</div>
<div class="section level2">
<h2 id="data-analysis">Data analysis<a class="anchor" aria-label="anchor" href="#data-analysis"></a>
</h2>
<p>Contrary to continuous variables, there is not yet a function for
plotting the raw data. However, we can plot the distribution of the
sampled data.</p>
<div class="section level3">
<h3 id="sample-data">Sample data<a class="anchor" aria-label="anchor" href="#sample-data"></a>
</h3>
<p>Data can be sampled using the function <code>cat_sample()</code> (see
the variable documentation for the explanation of the sampling methods).
Here we sample 100 values for each option:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">samp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cat_sample_data.html">cat_sample_data</a></span><span class="op">(</span><span class="va">my_elicitation</span>,</span>
<span>                        method <span class="op">=</span> <span class="st">"unweighted"</span>,</span>
<span>                        topic <span class="op">=</span> <span class="st">"topic_1"</span>,</span>
<span>                        n_votes <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Data sampled successfully using <span style="color: #0000BB;">"unweighted"</span> method.</span></span>
<span><span class="va">samp</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2,400 × 7</span></span></span>
<span><span class="co">#&gt;    id              option category_1 category_2 category_3 category_4 category_5</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Derek Maclellan optio…     0.047<span style="text-decoration: underline;">6</span>          0      0.864   0.017<span style="text-decoration: underline;">1</span>       0.071<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Derek Maclellan optio…     0.056<span style="text-decoration: underline;">7</span>          0      0.904   0.002<span style="text-decoration: underline;">35</span>      0.037<span style="text-decoration: underline;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Derek Maclellan optio…     0.066<span style="text-decoration: underline;">1</span>          0      0.869   0.026<span style="text-decoration: underline;">8</span>       0.037<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Derek Maclellan optio…     0.064<span style="text-decoration: underline;">8</span>          0      0.882   0.006<span style="text-decoration: underline;">12</span>      0.046<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Derek Maclellan optio…     0.037<span style="text-decoration: underline;">6</span>          0      0.929   0.010<span style="text-decoration: underline;">1</span>       0.023<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Derek Maclellan optio…     0.092<span style="text-decoration: underline;">5</span>          0      0.851   0.010<span style="text-decoration: underline;">2</span>       0.046<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Derek Maclellan optio…     0.071<span style="text-decoration: underline;">7</span>          0      0.877   0.014<span style="text-decoration: underline;">4</span>       0.037<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Derek Maclellan optio…     0.077<span style="text-decoration: underline;">9</span>          0      0.875   0.012<span style="text-decoration: underline;">5</span>       0.034<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Derek Maclellan optio…     0.118           0      0.769   0.067<span style="text-decoration: underline;">4</span>       0.045<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Derek Maclellan optio…     0.090<span style="text-decoration: underline;">4</span>          0      0.844   0.000<span style="text-decoration: underline;">713</span>     0.065<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2,390 more rows</span></span></span></code></pre></div>
<p>Sampled data can be summarised for any option:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">samp</span>, option <span class="op">=</span> <span class="st">"option_1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 7</span></span></span>
<span><span class="co">#&gt;   Category        Min      Q1  Median   Mean     Q3   Max</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> category_1 0.010<span style="text-decoration: underline;">9</span>   0.083<span style="text-decoration: underline;">2</span>  0.122   0.126  0.166  0.269</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> category_2 0        0.002<span style="text-decoration: underline;">08</span> 0.009<span style="text-decoration: underline;">69</span> 0.055<span style="text-decoration: underline;">1</span> 0.091<span style="text-decoration: underline;">5</span> 0.338</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> category_3 0.041<span style="text-decoration: underline;">1</span>   0.136   0.238   0.359  0.585  0.929</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> category_4 0.000<span style="text-decoration: underline;">152</span> 0.009<span style="text-decoration: underline;">25</span> 0.111   0.153  0.291  0.428</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> category_5 0.012<span style="text-decoration: underline;">3</span>   0.057<span style="text-decoration: underline;">9</span>  0.308   0.307  0.474  0.748</span></span></code></pre></div>
<p>And plotted as violin plot:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">samp</span><span class="op">)</span></span></code></pre></div>
<p><img src="categorical_variables_files/figure-html/plot-all-1.png" class="r-plt" alt="Violin plot of the sampled data for all options." width="700"></p>
<p>Or as beeswarm plot, which can be adapted as needed:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">samp</span>, type <span class="op">=</span> <span class="st">"beeswarm"</span><span class="op">)</span></span></code></pre></div>
<p><img src="categorical_variables_files/figure-html/cat-plot-beeswarm-1.png" class="r-plt" alt="Beeswarm plot of the sampled data for all options. Each point represents a sampled value." width="700"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">samp</span>, type <span class="op">=</span> <span class="st">"beeswarm"</span>,</span>
<span>     beeswarm_cex <span class="op">=</span> <span class="fl">0.9</span>, beeswarm_corral <span class="op">=</span> <span class="st">"wrap"</span><span class="op">)</span></span></code></pre></div>
<p><img src="categorical_variables_files/figure-html/cat-plot-beeswarm-wrap-1.png" class="r-plt" alt="Beeswarm plot of the sampled data for all options. Each point represents a sampled value." width="700"></p>
<p>We can also plot the distribution for a specific option:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">samp</span>, option <span class="op">=</span> <span class="st">"option_2"</span><span class="op">)</span></span></code></pre></div>
<p><img src="categorical_variables_files/figure-html/plot-option2-1.png" class="r-plt" alt="Violin plot of the sampled data for option 2." width="700"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sergio Vignali, Maude Vernet, Stefano Canessa, University of Bern.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
